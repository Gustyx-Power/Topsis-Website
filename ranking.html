<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking TOPSIS - Sistem Pendukung Keputusan</title>
    <meta name="description"
        content="Sistem pendukung keputusan untuk rekomendasi smartphone terbaik menggunakan metode TOPSIS">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Material Design 3 Custom CSS -->
    <link rel="stylesheet" href="./css/main.css">
</head>

<body>
    <!-- Navbar -->
    <div id="navbar"></div>

    <!-- Page Header -->
    <section class="page-header">
        <div class="page-header-background">
            <div class="page-header-blob page-header-blob-1"></div>
            <div class="page-header-blob page-header-blob-2"></div>
        </div>

        <div class="page-header-content">
            <div class="page-header-flex">
                <div class="page-header-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div>
                    <h1 class="page-header-title">Ranking TOPSIS</h1>
                    <p class="page-header-subtitle">Sistem pendukung keputusan untuk rekomendasi smartphone terbaik</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container py-lg">
        <!-- Configuration Section -->
        <section class="card card-elevated mb-lg" data-animate="slide-up">
            <div class="card-body">
                <h2 class="card-title mb-md">
                    <i class="fas fa-sliders-h"></i>
                    Konfigurasi Kriteria & Bobot
                </h2>

                <!-- Category Filter -->
                <div class="form-control mb-lg">
                    <label class="label">
                        <span class="label-text title-small">
                            <i class="fas fa-layer-group"></i> Kategori Smartphone
                        </span>
                    </label>
                    <select id="categoryFilter" class="select" style="max-width: 300px;" onchange="updatePhoneList()">
                        <option value="all">Semua Kategori</option>
                        <option value="Low-End">Low-End (1jt - 2.5jt)</option>
                        <option value="Mid-Range">Mid-Range (3jt - 7jt)</option>
                        <option value="Flagship">Flagship (8jt+)</option>
                    </select>
                </div>

                <!-- Weight Inputs -->
                <div class="divider">
                    <i class="fas fa-balance-scale"></i> Atur Bobot Kriteria (Total harus 100%)
                </div>
                <div id="weightInputs" class="weight-grid mt-md"></div>

                <div class="card-actions justify-between mt-lg">
                    <button class="btn btn-tonal" onclick="resetWeights()">
                        <i class="fas fa-undo"></i> Reset ke Default
                    </button>
                    <button class="btn btn-filled btn-lg" onclick="runTOPSIS()">
                        <i class="fas fa-play"></i> Jalankan Perhitungan TOPSIS
                    </button>
                </div>
            </div>
        </section>

        <!-- Tabs for Results -->
        <div class="tabs mb-lg" data-animate="slide-up">
            <button class="tab active" id="tab-info" onclick="showTab('info')">
                <i class="fas fa-info-circle"></i> Info Kriteria
            </button>
            <button class="tab" id="tab-ranking" onclick="showTab('ranking')">
                <i class="fas fa-trophy"></i> Hasil Ranking
            </button>
            <button class="tab" id="tab-steps" onclick="showTab('steps')">
                <i class="fas fa-list-ol"></i> Langkah Perhitungan
            </button>
        </div>

        <!-- Tab Content: Info -->
        <section id="content-info" class="tab-panel active" data-animate="fade">
            <div class="card card-elevated">
                <div class="card-body">
                    <div class="alert alert-info mb-lg">
                        <i class="fas fa-lightbulb"></i>
                        <span>Klik tombol <strong>"Jalankan Perhitungan TOPSIS"</strong> untuk melihat hasil ranking dan
                            langkah-langkah perhitungan</span>
                    </div>

                    <h3 class="title-large mb-lg flex items-center gap-sm">
                        <i class="fas fa-book text-primary"></i>
                        Penjelasan Kriteria & Metode TOPSIS
                    </h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-lg">
                        <!-- Criteria Info -->
                        <div class="card card-outlined">
                            <div class="card-body">
                                <h4 class="card-title">
                                    <i class="fas fa-list-check"></i>
                                    Kriteria yang Digunakan
                                </h4>
                                <div class="mt-md" style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="flex items-start gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <i class="fas fa-tag text-error" style="margin-top: 4px;"></i>
                                        <div>
                                            <strong>C1 - Harga (Jt Rp)</strong><br>
                                            <span class="text-muted body-small">Tipe: Cost (semakin rendah semakin
                                                baik)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <i class="fas fa-memory text-success" style="margin-top: 4px;"></i>
                                        <div>
                                            <strong>C2 - RAM (GB)</strong><br>
                                            <span class="text-muted body-small">Tipe: Benefit (semakin tinggi semakin
                                                baik)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <i class="fas fa-database text-success" style="margin-top: 4px;"></i>
                                        <div>
                                            <strong>C3 - Memori (GB)</strong><br>
                                            <span class="text-muted body-small">Tipe: Benefit (semakin tinggi semakin
                                                baik)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <i class="fas fa-camera text-success" style="margin-top: 4px;"></i>
                                        <div>
                                            <strong>C4 - Kamera (MP)</strong><br>
                                            <span class="text-muted body-small">Tipe: Benefit (semakin tinggi semakin
                                                baik)</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <i class="fas fa-battery-full text-success" style="margin-top: 4px;"></i>
                                        <div>
                                            <strong>C5 - Baterai (mAh)</strong><br>
                                            <span class="text-muted body-small">Tipe: Benefit (semakin tinggi semakin
                                                baik)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- TOPSIS Method -->
                        <div class="card card-outlined">
                            <div class="card-body">
                                <h4 class="card-title">
                                    <i class="fas fa-cogs"></i>
                                    Metode TOPSIS
                                </h4>
                                <div class="mt-md" style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="flex items-center gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <span class="badge badge-primary"
                                            style="min-width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">1</span>
                                        <span>Normalisasi matriks keputusan</span>
                                    </div>
                                    <div class="flex items-center gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <span class="badge badge-primary"
                                            style="min-width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">2</span>
                                        <span>Hitung matriks ternormalisasi terbobot</span>
                                    </div>
                                    <div class="flex items-center gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <span class="badge badge-primary"
                                            style="min-width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">3</span>
                                        <span>Tentukan solusi ideal positif & negatif</span>
                                    </div>
                                    <div class="flex items-center gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <span class="badge badge-primary"
                                            style="min-width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">4</span>
                                        <span>Hitung jarak ke solusi ideal</span>
                                    </div>
                                    <div class="flex items-center gap-sm p-sm"
                                        style="background: var(--md-surface-container); border-radius: var(--md-shape-corner-medium);">
                                        <span class="badge badge-primary"
                                            style="min-width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">5</span>
                                        <span>Hitung skor preferensi & ranking</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tab Content: Ranking -->
        <section id="content-ranking" class="tab-panel hidden">
            <div class="card card-elevated">
                <div class="card-body">
                    <div id="rankingResults">
                        <div class="empty-state">
                            <div class="empty-state-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <p class="empty-state-title">Jalankan perhitungan TOPSIS untuk melihat hasil ranking</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tab Content: Steps -->
        <section id="content-steps" class="tab-panel hidden">
            <div id="calculationSteps">
                <div class="card card-elevated">
                    <div class="card-body">
                        <div class="empty-state">
                            <div class="empty-state-icon">
                                <i class="fas fa-list-ol"></i>
                            </div>
                            <p class="empty-state-title">Jalankan perhitungan TOPSIS untuk melihat langkah-langkah</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- Scripts -->
    <script src="./js/data.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/topsis.js"></script>
    <script src="./js/core/theme.js"></script>
    <script src="./js/core/animations.js"></script>
    <script src="./js/components/navbar.js"></script>
    <script src="./js/components/footer.js"></script>
    <script src="./js/components/modal.js"></script>
    <script src="./js/ranking.js"></script>
    <script>
        // Tab switching function
        function showTab(tabName) {
            // Hide all panels
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.add('hidden');
                panel.classList.remove('active');
            });

            // Remove active from all tabs
            document.querySelectorAll('.tabs .tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected panel and activate tab
            document.getElementById('content-' + tabName).classList.remove('hidden');
            document.getElementById('content-' + tabName).classList.add('active');
            document.getElementById('tab-' + tabName).classList.add('active');
        }

        // Initialize default tab
        document.addEventListener('DOMContentLoaded', function () {
            showTab('info');
        });
    </script>
</body>

</html>